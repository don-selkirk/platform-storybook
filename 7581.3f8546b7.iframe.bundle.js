/*! For license information please see 7581.3f8546b7.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkplatform_ui=self.webpackChunkplatform_ui||[]).push([[7581],{"./node_modules/@angular/router/fesm2020/testing.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>RouterTestingModule});var common=__webpack_require__("./node_modules/@angular/common/fesm2020/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),Subject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js");function normalizeQueryParams(params){return params&&"?"!==params[0]?"?"+params:params}class SpyLocation{constructor(){this.urlChanges=[],this._history=[new LocationState("","",null)],this._historyIndex=0,this._subject=new core.EventEmitter,this._baseHref="",this._platformStrategy=null,this._platformLocation=null,this._urlChangeListeners=[]}setInitialPath(url){this._history[this._historyIndex].path=url}setBaseHref(url){this._baseHref=url}path(){return this._history[this._historyIndex].path}getState(){return this._history[this._historyIndex].state}isCurrentPathEqualTo(path,query=""){const givenPath=path.endsWith("/")?path.substring(0,path.length-1):path;return(this.path().endsWith("/")?this.path().substring(0,this.path().length-1):this.path())==givenPath+(query.length>0?"?"+query:"")}simulateUrlPop(pathname){this._subject.emit({url:pathname,pop:!0,type:"popstate"})}simulateHashChange(pathname){const path=this.prepareExternalUrl(pathname);this.pushHistory(path,"",null),this.urlChanges.push("hash: "+pathname),this._subject.emit({url:pathname,pop:!0,type:"popstate"}),this._subject.emit({url:pathname,pop:!0,type:"hashchange"})}prepareExternalUrl(url){return url.length>0&&!url.startsWith("/")&&(url="/"+url),this._baseHref+url}go(path,query="",state=null){path=this.prepareExternalUrl(path),this.pushHistory(path,query,state);const locationState=this._history[this._historyIndex-1];if(locationState.path==path&&locationState.query==query)return;const url=path+(query.length>0?"?"+query:"");this.urlChanges.push(url),this._notifyUrlChangeListeners(path+normalizeQueryParams(query),state)}replaceState(path,query="",state=null){path=this.prepareExternalUrl(path);const history=this._history[this._historyIndex];if(history.path==path&&history.query==query)return;history.path=path,history.query=query,history.state=state;const url=path+(query.length>0?"?"+query:"");this.urlChanges.push("replace: "+url),this._notifyUrlChangeListeners(path+normalizeQueryParams(query),state)}forward(){this._historyIndex<this._history.length-1&&(this._historyIndex++,this._subject.emit({url:this.path(),state:this.getState(),pop:!0,type:"popstate"}))}back(){this._historyIndex>0&&(this._historyIndex--,this._subject.emit({url:this.path(),state:this.getState(),pop:!0,type:"popstate"}))}historyGo(relativePosition=0){const nextPageIndex=this._historyIndex+relativePosition;nextPageIndex>=0&&nextPageIndex<this._history.length&&(this._historyIndex=nextPageIndex,this._subject.emit({url:this.path(),state:this.getState(),pop:!0,type:"popstate"}))}onUrlChange(fn){this._urlChangeListeners.push(fn),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe((v=>{this._notifyUrlChangeListeners(v.url,v.state)})))}_notifyUrlChangeListeners(url="",state){this._urlChangeListeners.forEach((fn=>fn(url,state)))}subscribe(onNext,onThrow,onReturn){return this._subject.subscribe({next:onNext,error:onThrow,complete:onReturn})}normalize(url){return null}pushHistory(path,query,state){this._historyIndex>0&&this._history.splice(this._historyIndex+1),this._history.push(new LocationState(path,query,state)),this._historyIndex=this._history.length-1}}SpyLocation.ɵfac=function SpyLocation_Factory(t){return new(t||SpyLocation)},SpyLocation.ɵprov=core["ɵɵdefineInjectable"]({token:SpyLocation,factory:SpyLocation.ɵfac}),("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](SpyLocation,[{type:core.Injectable}],null,null);class LocationState{constructor(path,query,state){this.path=path,this.query=query,this.state=state}}class MockLocationStrategy extends common.hb{constructor(){super(),this.internalBaseHref="/",this.internalPath="/",this.internalTitle="",this.urlChanges=[],this._subject=new core.EventEmitter,this.stateChanges=[]}simulatePopState(url){this.internalPath=url,this._subject.emit(new _MockPopStateEvent(this.path()))}path(includeHash=!1){return this.internalPath}prepareExternalUrl(internal){return internal.startsWith("/")&&this.internalBaseHref.endsWith("/")?this.internalBaseHref+internal.substring(1):this.internalBaseHref+internal}pushState(ctx,title,path,query){this.stateChanges.push(ctx),this.internalTitle=title;const url=path+(query.length>0?"?"+query:"");this.internalPath=url;const externalUrl=this.prepareExternalUrl(url);this.urlChanges.push(externalUrl)}replaceState(ctx,title,path,query){this.stateChanges[(this.stateChanges.length||1)-1]=ctx,this.internalTitle=title;const url=path+(query.length>0?"?"+query:"");this.internalPath=url;const externalUrl=this.prepareExternalUrl(url);this.urlChanges.push("replace: "+externalUrl)}onPopState(fn){this._subject.subscribe({next:fn})}getBaseHref(){return this.internalBaseHref}back(){if(this.urlChanges.length>0){this.urlChanges.pop(),this.stateChanges.pop();const nextUrl=this.urlChanges.length>0?this.urlChanges[this.urlChanges.length-1]:"";this.simulatePopState(nextUrl)}}forward(){throw"not implemented"}getState(){return this.stateChanges[(this.stateChanges.length||1)-1]}}MockLocationStrategy.ɵfac=function MockLocationStrategy_Factory(t){return new(t||MockLocationStrategy)},MockLocationStrategy.ɵprov=core["ɵɵdefineInjectable"]({token:MockLocationStrategy,factory:MockLocationStrategy.ɵfac}),("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](MockLocationStrategy,[{type:core.Injectable}],(function(){return[]}),null);class _MockPopStateEvent{constructor(newUrl){this.newUrl=newUrl,this.pop=!0,this.type="popstate"}}const urlParse=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;function parseUrl(urlStr,baseHref){let serverBase,parsedUrl;/^((http[s]?|ftp):\/\/)/.test(urlStr)||(serverBase="http://empty.com/");try{parsedUrl=new URL(urlStr,serverBase)}catch(e){const result=urlParse.exec(serverBase||""+urlStr);if(!result)throw new Error(`Invalid URL: ${urlStr} with base: ${baseHref}`);const hostSplit=result[4].split(":");parsedUrl={protocol:result[1],hostname:hostSplit[0],port:hostSplit[1]||"",pathname:result[5],search:result[6],hash:result[8]}}return parsedUrl.pathname&&0===parsedUrl.pathname.indexOf(baseHref)&&(parsedUrl.pathname=parsedUrl.pathname.substring(baseHref.length)),{hostname:!serverBase&&parsedUrl.hostname||"",protocol:!serverBase&&parsedUrl.protocol||"",port:!serverBase&&parsedUrl.port||"",pathname:parsedUrl.pathname||"/",search:parsedUrl.search||"",hash:parsedUrl.hash||""}}const MOCK_PLATFORM_LOCATION_CONFIG=new core.InjectionToken("MOCK_PLATFORM_LOCATION_CONFIG");class MockPlatformLocation{constructor(config){if(this.baseHref="",this.hashUpdate=new Subject.B,this.urlChangeIndex=0,this.urlChanges=[{hostname:"",protocol:"",port:"",pathname:"/",search:"",hash:"",state:null}],config){this.baseHref=config.appBaseHref||"";const parsedChanges=this.parseChanges(null,config.startUrl||"http://_empty_/",this.baseHref);this.urlChanges[0]={...parsedChanges}}}get hostname(){return this.urlChanges[this.urlChangeIndex].hostname}get protocol(){return this.urlChanges[this.urlChangeIndex].protocol}get port(){return this.urlChanges[this.urlChangeIndex].port}get pathname(){return this.urlChanges[this.urlChangeIndex].pathname}get search(){return this.urlChanges[this.urlChangeIndex].search}get hash(){return this.urlChanges[this.urlChangeIndex].hash}get state(){return this.urlChanges[this.urlChangeIndex].state}getBaseHrefFromDOM(){return this.baseHref}onPopState(fn){return()=>{}}onHashChange(fn){const subscription=this.hashUpdate.subscribe(fn);return()=>subscription.unsubscribe()}get href(){let url=`${this.protocol}//${this.hostname}${this.port?":"+this.port:""}`;return url+=`${"/"===this.pathname?"":this.pathname}${this.search}${this.hash}`,url}get url(){return`${this.pathname}${this.search}${this.hash}`}parseChanges(state,url,baseHref=""){return state=JSON.parse(JSON.stringify(state)),{...parseUrl(url,baseHref),state}}replaceState(state,title,newUrl){const{pathname,search,state:parsedState,hash}=this.parseChanges(state,newUrl);this.urlChanges[this.urlChangeIndex]={...this.urlChanges[this.urlChangeIndex],pathname,search,hash,state:parsedState}}pushState(state,title,newUrl){const{pathname,search,state:parsedState,hash}=this.parseChanges(state,newUrl);this.urlChangeIndex>0&&this.urlChanges.splice(this.urlChangeIndex+1),this.urlChanges.push({...this.urlChanges[this.urlChangeIndex],pathname,search,hash,state:parsedState}),this.urlChangeIndex=this.urlChanges.length-1}forward(){const oldUrl=this.url,oldHash=this.hash;this.urlChangeIndex<this.urlChanges.length&&this.urlChangeIndex++,this.scheduleHashUpdate(oldHash,oldUrl)}back(){const oldUrl=this.url,oldHash=this.hash;this.urlChangeIndex>0&&this.urlChangeIndex--,this.scheduleHashUpdate(oldHash,oldUrl)}historyGo(relativePosition=0){const oldUrl=this.url,oldHash=this.hash,nextPageIndex=this.urlChangeIndex+relativePosition;nextPageIndex>=0&&nextPageIndex<this.urlChanges.length&&(this.urlChangeIndex=nextPageIndex),this.scheduleHashUpdate(oldHash,oldUrl)}getState(){return this.state}scheduleHashUpdate(oldHash,oldUrl){oldHash!==this.hash&&function scheduleMicroTask(cb){Promise.resolve(null).then(cb)}((()=>this.hashUpdate.next({type:"hashchange",state:null,oldUrl,newUrl:this.url})))}}MockPlatformLocation.ɵfac=function MockPlatformLocation_Factory(t){return new(t||MockPlatformLocation)(core["ɵɵinject"](MOCK_PLATFORM_LOCATION_CONFIG,8))},MockPlatformLocation.ɵprov=core["ɵɵdefineInjectable"]({token:MockPlatformLocation,factory:MockPlatformLocation.ɵfac}),("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](MockPlatformLocation,[{type:core.Injectable}],(function(){return[{type:void 0,decorators:[{type:core.Inject,args:[MOCK_PLATFORM_LOCATION_CONFIG]},{type:core.Optional}]}]}),null);var fesm2020_router=__webpack_require__("./node_modules/@angular/router/fesm2020/router.mjs");const EXTRA_ROUTER_TESTING_PROVIDERS=[];function setupTestingRouter(urlSerializer,contexts,location,compiler,injector,routes,opts,urlHandlingStrategy,routeReuseStrategy){const router=new fesm2020_router.Ix(null,urlSerializer,contexts,location,injector,compiler,(0,fesm2020_router.aB)(routes));return opts&&(!function isUrlHandlingStrategy(opts){return"shouldProcessUrl"in opts}(opts)?(0,fesm2020_router.xU)(opts,router):router.urlHandlingStrategy=opts),urlHandlingStrategy&&(router.urlHandlingStrategy=urlHandlingStrategy),routeReuseStrategy&&(router.routeReuseStrategy=routeReuseStrategy),router}class RouterTestingModule{static withRoutes(routes,config){return{ngModule:RouterTestingModule,providers:[(0,fesm2020_router.sV)(routes),{provide:fesm2020_router.J_,useValue:config||{}}]}}}RouterTestingModule.ɵfac=function RouterTestingModule_Factory(t){return new(t||RouterTestingModule)},RouterTestingModule.ɵmod=core["ɵɵdefineNgModule"]({type:RouterTestingModule,exports:[fesm2020_router.iI]}),RouterTestingModule.ɵinj=core["ɵɵdefineInjector"]({providers:[fesm2020_router.uc,EXTRA_ROUTER_TESTING_PROVIDERS,{provide:common.aZ,useClass:SpyLocation},{provide:common.hb,useClass:MockLocationStrategy},{provide:fesm2020_router.Ix,useFactory:setupTestingRouter,deps:[fesm2020_router.Sd,fesm2020_router.Zp,common.aZ,core.Compiler,core.Injector,fesm2020_router.bw,fesm2020_router.J_,[fesm2020_router.Q0,new core.Optional],[fesm2020_router.b,new core.Optional]]},{provide:fesm2020_router.NJ,useExisting:fesm2020_router.D7},(0,fesm2020_router.sV)([])],imports:[fesm2020_router.iI]}),("undefined"==typeof ngDevMode||ngDevMode)&&core["ɵsetClassMetadata"](RouterTestingModule,[{type:core.NgModule,args:[{exports:[fesm2020_router.iI],providers:[fesm2020_router.uc,EXTRA_ROUTER_TESTING_PROVIDERS,{provide:common.aZ,useClass:SpyLocation},{provide:common.hb,useClass:MockLocationStrategy},{provide:fesm2020_router.Ix,useFactory:setupTestingRouter,deps:[fesm2020_router.Sd,fesm2020_router.Zp,common.aZ,core.Compiler,core.Injector,fesm2020_router.bw,fesm2020_router.J_,[fesm2020_router.Q0,new core.Optional],[fesm2020_router.b,new core.Optional]]},{provide:fesm2020_router.NJ,useExisting:fesm2020_router.D7},(0,fesm2020_router.sV)([])]}]}],null,null)}}]);