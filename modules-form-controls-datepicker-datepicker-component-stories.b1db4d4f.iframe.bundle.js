"use strict";(self.webpackChunkplatform_ui=self.webpackChunkplatform_ui||[]).push([[5064],{"./libs/ui/src/lib/modules/form-controls/datepicker/datepicker.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{e:()=>UiDatepickerComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");var UiDatepickerComponent_1,core=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),fesm2020_forms=__webpack_require__("./node_modules/@angular/forms/fesm2020/forms.mjs"),ng_bootstrap=__webpack_require__("./node_modules/@ng-bootstrap/ng-bootstrap/fesm2020/ng-bootstrap.mjs");let UiDatepickerComponent=UiDatepickerComponent_1=class UiDatepickerComponent{constructor(_calendar,_dateAdapter){this._calendar=_calendar,this._dateAdapter=_dateAdapter,this.placeholder="mm/dd/yyyy",this.placement="bottom-left top-left",this.requiredDate=!1,this.showIcon=!1,this.disabled=!1,this.touched=!1,this.onChange=({value})=>{},this.onTouched=()=>{},this.onValidationChange=()=>{}}ngOnInit(){}ngOnChanges(changes){(changes.minDate&&!changes.minDate.isFirstChange()||changes.maxDate&&!changes.maxDate.isFirstChange()||changes.requiredDate&&!changes.requiredDate.isFirstChange())&&(this.touched=!0,this.onValidationChange()),this.setDatepickerLimits()}writeValue(data){this.dpModel=this.extractDpModelValue(data);const ngbDate=this._dateAdapter.fromModel(this.dpModel);this.setDateString(ngbDate),this.startDate=ngbDate}registerOnChange(fn){this.onChange=fn}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this.disabled=isDisabled}validate(control){if(this.formField=control,this.dpModel&&!this.isValidDate(this.dpModel))throw new Error("Invalid Date type");let error=null;return error=this.validateRequiredDate(this.dpModel),this.touched&&(error=error||this.validateDate(this.dpModel,"min"),error=error||this.validateDate(this.dpModel,"max")),error}registerOnValidatorChange(fn){this.onValidationChange=fn}onDateSelect(date){const formattedDate=this._dateAdapter.toModel(date);this.markAsTouched(),this.startDate=date,this.setDateString(date),this.onChange({value:formattedDate})}onTodayClick(){const today=this._calendar.getToday();this.dpModel=this._dateAdapter.toModel(today),this.onDateSelect(today)}markAsTouched(){this.touched||(this.onTouched(),this.touched=!0)}clearValue(){this.dpModel=null,this.onDateSelect(null)}navigateByMonth(datepicker,number){const{state,calendar}=datepicker;datepicker.navigateTo(calendar.getNext(state.firstDate,"m",number))}navigateByYear(datepicker,number){const{state,calendar}=datepicker;datepicker.navigateTo(calendar.getNext(state.firstDate,"y",number))}extractDpModelValue(data){let value=null;return data&&(value=data.hasOwnProperty("value")?data.value:data,"string"==typeof value&&(value=new Date(value))),value}isValidDate(date){let valid=!1;return date instanceof Date&&"function"==typeof date.getMonth&&(valid=!0),valid}validateRequiredDate(date){let error=null;return this.requiredDate&&!date&&(error={requiredDate:!0}),error}validateDate(date,prefix){const limitDate=this[prefix+"Date"];if(!limitDate||!date)return null;if(!this.isValidDate(limitDate))throw new Error("Invalid Date type");let valid=null;const copiedLimit=new Date(limitDate.getTime()),copiedDate=new Date(date.getTime());return copiedLimit.setHours(0,0,0,0),copiedDate.setHours(0,0,0,0),"min"===prefix&&copiedLimit>copiedDate?valid={minDate:{min:this.minDate}}:"max"===prefix&&copiedLimit<copiedDate&&(valid={maxDate:{max:this.maxDate}}),valid}setDatepickerLimits(){this.dpMinDate=this._dateAdapter.fromModel(this.minDate),this.dpMaxDate=this._dateAdapter.fromModel(this.maxDate)}setDateString(date){let formattedDate;formattedDate=date?("0"+date.month).slice(-2)+"/"+("0"+date.day).slice(-2)+"/"+date.year:this.placeholder,this.dateString=formattedDate}};UiDatepickerComponent.ctorParameters=()=>[{type:ng_bootstrap.iF},{type:ng_bootstrap.dn}],UiDatepickerComponent.propDecorators={placeholder:[{type:core.Input}],placement:[{type:core.Input}],minDate:[{type:core.Input}],maxDate:[{type:core.Input}],requiredDate:[{type:core.Input}],showIcon:[{type:core.Input}]},UiDatepickerComponent=UiDatepickerComponent_1=(0,tslib_es6.Cg)([(0,core.Component)({selector:"ui-datepicker",template:' <div class="input-group">\n    \n    \x3c!-- <i *ngIf="!disabled && dpModel" class="bi bi-x clear-icon" (click)="clearValue()"></i>     --\x3e\n    <input\n        class="form-control"\n        [ngClass]="{\n            \'is-invalid\': formField !== undefined && formField.invalid && (formField.touched || formField.dirty)\n        }"\n        autocomplete="off"\n        [placeholder]="placeholder"\n        [readonly]="!showIcon"\n        [disabled]="disabled"\n        [value]="dateString"\n        [ngbPopover]="datepickerContent"\n        #popover="ngbPopover"\n        popoverClass="custom-popover"\n        container="body"\n        [placement]="placement"\n        autoClose="outside"\n        (blur)="onTouched()"\n        (keydown.backspace)="!disabled && clearValue()">  \n    \n    <span class="input-group-text"> \n        <i class="bi bi-calendar3" aria-hidden="true"></i>\n    </span>\n    \x3c!-- <button\n        *ngIf="showIcon && !disabled"\n        class="btn btn-outline-secondary pointer"\n        type="button"\n        [ngbPopover]="datepickerContent"\n        #popover="ngbPopover"\n        popoverClass="custom-popover"\n        container="body"\n        [placement]="placement"\n        (blur)="onTouched()"\n        autoClose="outside">\n        <i class="fa fa-calendar"></i>\n    </button> --\x3e\n</div>\n\n<ng-template #datepickerContent>\n    <ngb-datepicker\n        #d\n        name="dp"\n        class="custom-datepicker"\n        navigation="none"\n        [dayTemplate]="dayTemplate"\n        [footerTemplate]="footerTemplate"\n        [disabled]="disabled"\n        [minDate]="dpMinDate"\n        [maxDate]="dpMaxDate"\n        [(ngModel)]="dpModel"\n        [startDate]="startDate"\n        (dateSelect)="onDateSelect($event); popover.close()">\n        <ng-template ngbDatepickerContent>\n            <div *ngFor="let month of d.state.months">\n                <div class="text-primary px-1 py-2 fw-bold text-center">\n                    <i class="bi bi-chevron-double-left float-start px-1" role="button" (click)="navigateByYear(d, -1)"></i>\n                    <i class="bi bi-chevron-left float-start px-1" role="button" (click)="navigateByMonth(d, -1)"></i>\n                    {{month.month | monthNamePipe}} {{ month.year }}\n                    <i class="bi bi-chevron-double-right float-end px-1" role="button" (click)="navigateByYear(d, 1)"></i>\n                    <i class="bi bi-chevron-right float-end px-1" role="button" (click)="navigateByMonth(d, 1)"></i>\n                </div>\n                <ngb-datepicker-month class="custom-datepicker-month" [month]="month"></ngb-datepicker-month>\n            </div>\n        </ng-template>\n    </ngb-datepicker>\n</ng-template>\n\n<ng-template\n    #dayTemplate\n    let-date\n    let-currentMonth="currentMonth"\n    let-selected="selected"\n    let-disabled="disabled">\n    <span class="custom-day"\n        [class.selected-day]="selected"\n        [class.disabled-day]="disabled"\n        [class.another-month]="!disabled && date.month !== currentMonth">\n        {{ date.day }}\n    </span>\n</ng-template>\n\n<ng-template #footerTemplate>\n    <div class="footer-container">\n        <span class="custom-footer" (click)="onTodayClick(); popover.close()">\n            Today\n        </span>\n    </div>\n</ng-template>\n',encapsulation:core.ViewEncapsulation.None,providers:[{provide:fesm2020_forms.NG_VALUE_ACCESSOR,multi:!0,useExisting:UiDatepickerComponent_1},{provide:fesm2020_forms.NG_VALIDATORS,multi:!0,useExisting:UiDatepickerComponent_1},{provide:ng_bootstrap.dn,useClass:ng_bootstrap.Ae}],styles:[".form-control[readonly] {\n  background-color: #fff;\n}\n.form-control[readonly]:disabled {\n  background-color: #edeff0;\n}\n.clear-icon {\n  border: 0;\n  color: #a8abae;\n  cursor: pointer;\n  font-size: 1rem;\n  line-height: 1.5rem;\n  position: absolute;\n  right: 40px;\n  top: 7px;\n  vertical-align: middle;\n  z-index: 3;\n}\n.clear-icon:hover {\n  visibility: visible;\n}\n.datepicker-input:hover + .clear-icon {\n  visibility: visible;\n}\n.datepicker-input:focus + .clear-icon {\n  visibility: visible;\n}\n.custom-popover {\n  border-color: #dbdee1;\n  border-radius: 2px;\n  border: 0;\n  box-shadow: 0px 9px 12px rgba(0, 0, 0, 0.14), 0px 3px 16px rgba(0, 0, 0, 0.12), 0px 5px 6px rgba(0, 0, 0, 0.2);\n}\n.custom-popover .arrow {\n  display: none;\n}\n.custom-popover .popover-body {\n  padding: 0;\n}\n.custom-datepicker {\n  border: 0;\n  border-radius: 0;\n}\n.custom-datepicker .ngb-dp-header {\n  background-color: #fff;\n}\n.custom-datepicker .ngb-dp-weekday {\n  color: #00857C;\n}\n.custom-datepicker .ngb-dp-content .ng-star-inserted .custom-datepicker-month {\n  border-bottom: 1px solid #dbdee1;\n  border-top: 1px solid #dbdee1;\n  padding: 0 0.5rem;\n}\n.custom-datepicker .ngb-dp-content .ng-star-inserted .custom-datepicker-month .ngb-dp-weekdays {\n  background-color: #fff;\n  border-bottom: 0;\n  padding: 0.1rem 0;\n}\n.custom-datepicker .ngb-dp-content .ng-star-inserted .custom-datepicker-month .ngb-dp-weekdays .ngb-dp-weekday {\n  color: #2a2b2c;\n  font-style: normal;\n  font-weight: normal;\n}\n.custom-day {\n  border-radius: 0.25rem;\n  border: 0.1rem;\n  box-sizing: border-box;\n  color: #2a2b2c;\n  display: inline-block;\n  padding: 0.185rem 0.25rem;\n  text-align: center;\n  width: 2rem;\n}\n.custom-day:hover {\n  background-color: #edeff0;\n}\n.selected-day {\n  border: 0.1rem solid #00857C;\n  background-color: #fff;\n}\n.disabled-day {\n  color: #dbdee1;\n}\n.another-month {\n  color: #a8abae;\n}\n.footer-container {\n  padding: 0.5rem;\n  text-align: center;\n}\n.footer-container .custom-footer {\n  color: #00857C;\n  cursor: pointer;\n  display: inline-block;\n}\n.inner-addon {\n  position: relative;\n}\n/* style icon */\n.inner-addon .bi-calendar3 {\n  position: absolute;\n  padding: 10px;\n  pointer-events: none;\n}\n/* align icon */\n.left-addon .bi {\n  left: 5px;\n}\n.right-addon .bi {\n  right: 5px;\n}\n/* add padding  */\n.left-addon input {\n  padding-left: 40px;\n}\n.right-addon input {\n  padding-right: 40px;\n}\n.was-validated .form-control:valid .right-addon .bi, .was-validated .acp-form-control:valid .right-addon .bi, .form-control.is-valid .right-addon .bi, .ng-valid .right-addon .bi, .ng-invalid .right-addon .bi, .is-valid.acp-form-control .right-addon .bi, .acp-form-control.ng-valid.ng-touched .right-addon .bi, .acp-form-control.ng-valid.ng-dirty .right-addon .bi {\n  right: 30px;\n}\n.was-validated .form-control:valid .right-addon .bi.clear-icon, .was-validated .acp-form-control:valid .right-addon .bi.clear-icon, .form-control.is-valid .right-addon .bi.clear-icon, .ng-valid .right-addon .bi.clear-icon, .ng-invalid .right-addon .bi.clear-icon, .is-valid.acp-form-control .right-addon .bi.clear-icon, .acp-form-control.ng-valid.ng-touched .right-addon .bi.clear-icon, .acp-form-control.ng-valid.ng-dirty .right-addon .bi.clear-icon {\n  right: 65px;\n}\n.input-group .inner-addon {\n  position: relative;\n  flex: 1 1 auto;\n  width: 1%;\n  min-width: 0;\n}\n.input-group .inner-addon input {\n  margin-left: -1px;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.input-group > .form-control, .input-group > .acp-form-control, .input-group > .form-select {\n  position: relative;\n  flex: 1 1 auto;\n  width: 1%;\n  min-width: 0;\n}"]}),(0,tslib_es6.Sn)("design:paramtypes",[ng_bootstrap.iF,ng_bootstrap.dn])],UiDatepickerComponent)},"./libs/ui/src/lib/modules/form-controls/datepicker/datepicker.component.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/angular/dist/ts3.9/client/index.js");const __WEBPACK_DEFAULT_EXPORT__={component:__webpack_require__("./libs/ui/src/lib/modules/form-controls/datepicker/datepicker.component.ts").e,decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.moduleMetadata)({imports:[]})]},Primary=(args=>({props:args})).bind({});Primary.args={placeholder:"mm/dd/yyyy",placement:"bottom-left top-left",requiredDate:!1,showIcon:!1}}}]);